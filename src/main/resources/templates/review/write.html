<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="icon" href="/assets/images/pabicon.png" >
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>부산투어서비스 자유게시판</title>

    <!-- Bootstrap core CSS -->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="/assets/css/fontawesome.css">
    <link rel="stylesheet" href="/assets/css/templatemo-woox-travel.css">
    <link rel="stylesheet" href="/assets/css/owl.css">
    <link rel="stylesheet" href="/assets/css/animate.css">
    <link rel="stylesheet"href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
<!--

TemplateMo 580 Woox Travel

https://templatemo.com/tm-580-woox-travel

-->
  </head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="/" class="logo2">
                        <img src="/assets/images/logo2.png" alt="">
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                        <li><a style=" border-radius: 0px;" class="menu-item" href="/tourSpot/list">관광지</a></li>
                        <li><a style=" border-radius: 0px;" class="menu-item" href="/restaurant/list">음식점</a></li>
                        <li><a style=" border-radius: 0px;" class="menu-item" href="/shopping/list">쇼핑</a></li>
                        <li>
							<a class="menu-item" href="/board/list" style=" border-radius: 0px;">자유 게시판</a>
						</li>
                        
						<li sec:authorize="isAuthenticated()" class="menu-item-container" >
							<a class="menu-item" href="/member/mypage" style="width: max-content; border-radius: 0px;"
								>[[${loginUser.member.nickname}]]님</a>
							<div class="menu-container" style="width: max-content; text-align: center;" >
								<a class="menu-item" href="/member/mypage" style=" border-radius: 0px;">마이페이지</a>
							<!--	<a class="menu-item" href="/complain/list" style=" border-radius: 0px;">고객문의</a>-->
								<a class="menu-item" href="/member/logout" style=" border-radius: 0px;">로그아웃</a>
							</div>
						</li>
						
						<li sec:authorize="isAnonymous()">
							<a href="/member/login" class="menu-item" style="width: max-content; border-radius: 0px;">로그인</a>
						</li>
                    </ul>
						
                    <a class='menu-trigger' >
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <div class="page-heading">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h4>Busan Tour Service</h4>
          <h2>부산여행</h2>
          <div class="border-button text-center"><a href="about.html">자세히 보기</a></div>
        </div>
      </div>
    </div>
  </div>
  
  <style>
	  
	  #previewContainer .previewImage {
		  width: 30%;
		  height: auto;
	  }
	  
	  #previewContainer {
            display: flex;
            flex-wrap: wrap;
        }

        .previewImage {
            max-width: 25%;
            max-height: auto;
            margin: 5px;
        }

        #fileTable {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        #fileTable th, #fileTable td {
            border: 1px solid #ddd;
            padding: 8px;
            
        }

        #fileTable th {
            background-color: #f2f2f2;
        }

        .deleteButton {
            cursor: pointer;
            color: red;
            font-weight: bold;
        }

        .fileNameDisplayItem {
            margin-bottom: 5px;
        }
	  
	  .border-button input:hover {
		  background-color: red;
		  transition: 0.5s;
	  }
	  
	  .border-button input#um:hover {
		  background-color: #22b3c1;
		  color: white;
	  }
  
  .bulletin-board-container {
      max-width: 1300px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }

    .bulletin-board-container table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
  }

    .bulletin-board-container th,
    .bulletin-board-container td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
  }

    .search-bar {
      margin-top: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
  }

    .search-bar input[type="text"] {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
  }

    .search-bar button {
      padding: 10px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
  }

    .search-bar label {
      margin-right: 10px
  }
    
    
    
	.border-button {
      text-align: right;
  }
 
    .border-button a {
    	margin-left: 10px;
  }
 
    .page-numbers {
    text-align: center;
    margin-top: 20px;
  }

  .page-numbers li {
    display: inline-block;
    margin: 0 5px;
  }

  .call-to-action {
    position: fixed;
    bottom: 20px;
    right: 20px;
  }

  .call-to-action .border-button {
    text-align: center;
  }
  
  </style>
  
  <!-- *** 게시판 글쓰기 Start *** -->
  
  <div class="bulletin-board-container">
	  <!-- 실제 write 부분 시작 -->
			  <form method="post" th:action="@{/review/write(UC_SEQ=${writeForm.UC_SEQ})}" 
			  enctype="multipart/form-data" th:object="${writeForm}" style="margin:0; padding:0;" >
			   
				<input type="file" name="files" id="fileInput" accept="image/*" onchange="previewImages()" multiple>
				<div id="previewContainer"></div>
				
				<table id="fileTable" style="width: 50%;">
				    <thead>
				        <tr>
				            <th style="text-align: center; width: 20%;">파일 번호</th>
				            <th style="text-align: center;">파일명</th>
				            <th style="text-align: center; width: 20%;">삭제</th>
				        </tr>
				    </thead>
				    <tbody id="fileTableBody"></tbody>
				</table>
				
				<div style="color: red;" th:errors="${writeForm.rv_title}"></div>
				<div style="color: red;" th:errors="${writeForm.rv_content}"></div>
				   <!-- <td bgcolor="#EDEDED"> -->
					<table cellpadding="0" cellspacing="0" border="0" whidth="100%">
					 <tbody>
					  <tr style="height:40px;">
						<td align="center" style="width:60px;">제목</td>
						<td style="text-align: left; width: auto;">
						  <input type="text" th:field="${writeForm.rv_title}" style="width:700px;border:1 #C4CAD1 solid;font-size:9pt;padding-top: 3px;">	
						</td>
						<input type="hidden" th:field="${writeForm.sort}">
					<td>
					<fieldset>
                      <select th:field="${writeForm.star}" class="form-select" aria-label="Default select example" id="chooseLocation" onChange="this.form.click()">
                          <option selected type="number" value="10" onchange="viewStar()">10점</option>
                          <option type="number" value="9">9점</option>
                          <option type="number" value="8">8점</option>
                          <option type="number" value="7">7점</option>
                          <option type="number" value="6">6점</option>
                          <option type="number" value="5">5점</option>
                          <option type="number" value="4">4점</option>
                          <option type="number" value="3">3점</option>
                          <option type="number" value="2">2점</option>
                          <option type="number" value="1">1점</option>
                      </select>
                  	</fieldset>
					</td>
					
					  </tr>	 
					 </tbody>
					</table>
					
				<textarea id="CONTENT2" th:field="${writeForm.rv_content}" class="signContent" style="float: left; resize: none; width: 100%; height: 500px;
						margin-top: 2px; margin-bottom: 0px;"></textarea>	
											  
			   <div class="row" style="margin-top: 50px;">
			    <div class="col-lg-12" style="margin-top: 10px;">
			   	 <div class="border-button" style="display: inline-block; float: right; ">
				    <input type="reset" value="취소">
			     </div>
			     <div class="border-button" style="display: inline-block; float: right; margin-right: 10px;">
	                <input id="um" type="submit" value="작성완료">
	             </div>
			     <div class="border-button" style="display:inline-block; float: right; margin-right: 10px;">
				   <a href="/board/list">목록</a>
			     </div>
			     </div>
			    </div>
			    <input type="hidden" th:field="${writeForm.UC_SEQ}">
				</form>
			</div>

  <!-- *** 게시판 글쓰기 End *** -->

  <div class="visit-country" style="margin: auto;">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="items">
            <div class="row">
              
              <!--<div class="col-lg-12">
                <ul class="page-numbers">
                  <li><a href="#"><i class="fa fa-arrow-left"></i></a></li>
                  <li><a href="#">1</a></li>
                  <li class="active"><a href="#">2</a></li>
                  <li><a href="#">3</a></li>
                  <li><a href="#"><i class="fa fa-arrow-right"></i></a></li>
                </ul>
              </div>-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
				
			
	
  <!--<div class="call-to-action">
    <div class="container">
      <div class="row">
        <div class="col-lg-8">
          <h2>Are You Looking To Travel ?</h2>
          <h4>Make A Reservation By Clicking The Button</h4>
        </div>
        <div class="col-lg-4">
          <div class="border-button">
            <a href="reservation.html">Book Yours Now</a>
          </div>
        </div>
      </div>
    </div>
  </div>-->

  <!--<footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <p>Copyright © 2036 <a href="#">WoOx Travel</a> Company. All rights reserved. 
          <br>Design: <a href="https://templatemo.com" target="_blank" title="free CSS templates">TemplateMo</a></p>
        </div>
      </div>
    </div>
  </footer>-->


  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="/assets/js/isotope.min.js"></script>
  <script src="/assets/js/owl-carousel.js"></script>
  <script src="/assets/js/wow.js"></script>
  <script src="/assets/js/tabs.js"></script>
  <script src="/assets/js/popup.js"></script>
  <script src="/assets/js/custom.js"></script>

  <script>
    $(".option").click(function(){
      $(".option").removeClass("active");
      $(this).addClass("active"); 
    });
    
let uploadedFiles = [];
let fileTableBody = document.getElementById('fileTableBody');
let previewContainer = document.getElementById('previewContainer');

function previewImages() {
    let fileInput = document.getElementById('fileInput');
    let files = fileInput.files;

    // 이미지 개수를 최대 5개로 제한
    if (files.length > 5) {
        alert('이미지는 최대 5개까지 업로드할 수 있습니다.');
        // 초과한 파일은 삭제
        Array.from(files).splice(0, files.length - 5);
    }

    // 미리보기 및 파일명 추가
    for (let i = 0; i < files.length; i++) {
        let file = files[i];
        uploadedFiles.push(file);

        let reader = new FileReader();

        reader.onload = function (e) {
            // 미리보기 추가
            let preview = document.createElement('img');
            preview.src = e.target.result;
            preview.alt = '미리보기';
            preview.className = 'previewImage';
            previewContainer.appendChild(preview);

            // 파일명 추가
            //let fileNameDisplayItem = document.createElement('p');
           // fileNameDisplayItem.textContent = '업로드된 파일 ' + uploadedFiles.length + ': ' + file.name;
           // fileNameDisplayItem.className = 'fileNameDisplayItem';
           // previewContainer.appendChild(fileNameDisplayItem);
        };

        reader.readAsDataURL(file);
    }

    // 파일 목록 업데이트
    updateFileList();
}

function updateFileList() {
    fileTableBody.innerHTML = '';

    for (let i = 0; i < uploadedFiles.length; i++) {
        let fileName = uploadedFiles[i].name;

        let row = fileTableBody.insertRow();
        let cell1 = row.insertCell(0);
        let cell2 = row.insertCell(1);
        let cell3 = row.insertCell(2);

        cell1.textContent = i + 1;
        cell2.textContent = fileName;

        let deleteButton = document.createElement('span');
        deleteButton.textContent = '삭제';
        deleteButton.className = 'deleteButton';
        deleteButton.onclick = function () {
            deleteFile(i);
        };

        cell3.appendChild(deleteButton);
    }
}

function deleteFile(index) {
    uploadedFiles.splice(index, 1);

    // 이미지 및 파일 목록 업데이트
    updateFileList();
    updatePreview();
}

function updatePreview() {
    // 미리보기 초기화
    previewContainer.innerHTML = '';

    // 미리보기 및 파일명 추가
    for (let i = 0; i < uploadedFiles.length; i++) {
        let file = uploadedFiles[i];
        let reader = new FileReader();

        reader.onload = function (e) {
            // 미리보기 추가
            let preview = document.createElement('img');
            preview.src = e.target.result;
            preview.alt = '미리보기';
            preview.className = 'previewImage';
            previewContainer.appendChild(preview);
        };

        reader.readAsDataURL(file);
    }
}

    
  </script>
  </body>

</html> 